{"version":3,"sources":["component/PersonForm.js","component/Person.js","component/Persons.js","component/Filter.js","services/persones.js","component/Notification.js","App.js","index.js"],"names":["PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Person","person","deletePerson","key","id","name","number","onClick","Persons","personsToShow","map","Filter","newFilter","handleFilerChange","axios","get","then","response","data","newPerson","post","updatedPerson","put","delete","responce","Notification","message","className","text","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","notificationMessage","setNotificationMessage","useEffect","personServices","initailPersones","catch","error","status","setTimeout","request","filter","toLowerCase","includes","href","event","target","preventDefault","nameExist","personObject","length","window","confirm","addedPeson","concat","alert","result","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5f979c01.chunk.js","sourcesContent":["import React from 'react'\nconst PersonForm = ({ addPerson, newName, newNumber, handleNameChange, handleNumberChange}) => {\n    return (\n        <div>\n            <form onSubmit={addPerson}>\n            <div>\n                name: <input \n                        value={ newName}\n                        onChange={ handleNameChange}\n                    />\n            </div>\n            <div>\n                number: <input \n                            value={ newNumber}\n                            onChange={handleNumberChange}\n                />\n                </div>\n            <div>\n            <button type=\"submit\">add</button>\n            </div>\n        </form>\n        </div>\n    ) \n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person, deletePerson}) => {\n    \n    return (\n        <div>\n            <li key={person.id}>{person.name} { person.number}<button value={person.id} onClick={ deletePerson} name={person.name} >delete</button></li>\n        </div>\n    ) \n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({personsToShow, deletePerson}) => {\n    return (\n        <div>\n            <ul>\n                { personsToShow.map( (person) => <Person \n                                    key = {person.name} \n                                    person={person}\n                                    deletePerson= {deletePerson} \n                />                  \n                )}\n            </ul>\n        </div>\n    ) \n}\n\nexport default Persons ","import React from 'react'\n\nconst Filter = ({ newFilter, handleFilerChange}) => {\n    return (\n        <div>\n        filter shown with \n            <input \n                value={newFilter}\n                onChange={handleFilerChange}\n            />\n        </div>\n    ) \n}\n\nexport default Filter","import axios from 'axios'\n\nconst serverUrl = '/api/persons'\n\nconst getPersons = () => {\n    const request = axios.get(serverUrl)\n    return request.then( response => response.data)\n}\n\nconst addPerson = (newPerson) => {\n    const request = axios.post(serverUrl, newPerson)\n    return request.then( response => response.data)\n}\n\nconst updatePerson = ( id, updatedPerson ) => {\n    const request = axios.put(`${serverUrl}/${id}`, updatedPerson)\n    return request.then(response => response.data)\n}\n\n\nconst deletePerson = (id ) => {\n    const request = axios.delete(`${serverUrl}/${id}`)\n    return request.then( responce => responce.data )\n}\n\nexport default {\n    getPersons, addPerson, updatePerson, deletePerson\n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className={ message.type }>\n        {message.text}\n      </div>\n    )\n  }\n\n  export default Notification\n  ","import React, { useState, useEffect } from 'react'\nimport PersonForm from './component/PersonForm'\nimport Persons from './component/Persons'\nimport Filter from './component/Filter'\nimport personServices from './services/persones'\nimport Notification from './component/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n\n  useEffect(() => {\n      personServices\n          .getPersons()\n          .then( initailPersones => {\n              setPersons( initailPersones)\n          }).catch( error => {\n            if (error.response) {\n              // The request was made and the server responded with a status code\n              // that falls out of the range of 2xx\n              // Object not found chech status code \n    \n              if ( error.response.status && error.response.status === 404){\n                setNotificationMessage({ \n                  type : 'error', \n                  text : `Can not get person data from server`\n                  }\n                )\n                setTimeout(() => {\n                  setNotificationMessage(null)\n                }, 5000)\n              } else {\n                setNotificationMessage({ \n                  type : 'error', \n                  text : `Something went wrong`\n                  }\n                )\n                setTimeout(() => {\n                  setNotificationMessage(null)\n                }, 5000)\n              }\n            } else if (error.request) {\n              setNotificationMessage({ \n                type : 'error', \n                text : `Connection to server lost`\n                }\n              )\n              setTimeout(() => {\n                setNotificationMessage(null)\n              }, 5000)\n            } else {\n              // Something happened in setting up the request that triggered an Error\n              setNotificationMessage({ \n                type : 'error', \n                text : `Wrong request setting`\n                }\n              )\n              setTimeout(() => {\n                setNotificationMessage(null)\n              }, 5000)\n            }\n\n          }) \n  }, []) \n\n  const addPerson = (event) => {\n    event.preventDefault()\n    \n    if ( !newName || !newNumber) {\n        alert('PLease enter the name of person and number')\n        return\n    }\n    const nameExist = persons.filter( (person) => person.name === newName )\n    \n    \n    const personObject =  {\n        name : newName, \n        number : newNumber\n    }\n    if (nameExist.length > 0){\n      const id = nameExist[0].id\n      const confirmUpdate  = window.confirm(`${ newName } is already added to phonebook, replace the old number with new one`)\n      \n      if (confirmUpdate) {\n        personServices\n          .updatePerson( id, personObject)  \n          .then( updatedPerson => {\n            setPersons( persons.map( person => person.id !== id ? person : updatedPerson))\n            setNewName('')\n            setNewNumber('')\n            setNotificationMessage( {\n              type : 'successful', \n              text  :`The phonenumber has been upated for ${newName}`\n            }\n            )\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n            \n          }).catch( error => { \n            if (error.response) {\n              // The request was made and the server responded with a status code\n              // that falls out of the range of 2xx\n              // Object not found chech status code \n    \n              if ( error.response.status && error.response.status){\n                setNotificationMessage({ \n                  type : 'error', \n                  text : `Can not update person an error has been acquried ${ error.response.status }`\n                  }\n                )\n                setTimeout(() => {\n                  setNotificationMessage(null)\n                }, 5000)\n              } else {\n                setNotificationMessage({ \n                  type : 'error', \n                  text : `Something went wrong ${ error.response.status}`\n                  }\n                )\n                setTimeout(() => {\n                  setNotificationMessage(null)\n                }, 5000)\n              }\n            } else if (error.request) {\n              setNotificationMessage({ \n                type : 'error', \n                text : `Connection to server lost`\n                }\n              )\n              setTimeout(() => {\n                setNotificationMessage(null)\n              }, 5000)\n            } else {\n              // Something happened in setting up the request that triggered an Error\n              setNotificationMessage({ \n                type : 'error', \n                text : `Wrong request setting`\n                }\n              )\n              setTimeout(() => {\n                setNotificationMessage(null)\n              }, 5000)\n            }\n\n          }) \n      } else {\n          return\n      }\n    } else {\n        personServices\n          .addPerson(personObject)\n          .then( addedPeson => {\n            setPersons( persons.concat( addedPeson))\n            setNewName('')\n            setNewNumber('')\n            setNotificationMessage({ \n                type : 'successful', \n                text : `Added ${newName}`\n              }\n            )\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          }).catch ( error => {\n            \n            // handle addPerson error \n            if (error.response) {\n              // The request was made and the server responded with a status code\n              // that falls out of the range of 2xx\n              // Object not found chech status code \n    \n              if ( error.response.status){\n                if (error.response.status === 400){\n                  //console.log(error.response.data.error)\n                  setNotificationMessage({ \n                    type : 'error', \n                    text : `${ error.response.data.error}`\n                    }\n                  )\n                } else {\n                  setNotificationMessage({ \n                    type : 'error', \n                    text : `Something went wrong ${ error.response.status}`\n                    }\n                  )\n                }\n                \n                setTimeout(() => {\n                  setNotificationMessage(null)\n                }, 5000)\n              }\n            } else if (error.request) {\n              setNotificationMessage({ \n                type : 'error', \n                text : `Connection to server lost`\n                }\n              )\n              setTimeout(() => {\n                setNotificationMessage(null)\n              }, 5000)\n            } else {\n              // Something happened in setting up the request that triggered an Error\n              setNotificationMessage({ \n                type : 'error', \n                text : `Wrong request setting`\n                }\n              )\n              setTimeout(() => {\n                setNotificationMessage(null)\n              }, 5000)\n            }\n          }) \n        }\n  }\n\n  const deletePerson = (event) => {\n    event.preventDefault()\n    \n    const name = event.target.name\n    const confirmDelete  = window.confirm(`Delete ${ name} ?`)\n    if ( !confirmDelete){\n      return \n    }\n\n    const id = event.target.value\n    personServices\n      .deletePerson(id)\n      .then( result => {\n        setPersons( persons.filter( person => person.id !== id)) \n        setNotificationMessage({\n          type : 'successful', \n          text : `Person ${name} has been successfully deleted`\n        }\n        )\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n      } ).catch( error => {\n        if (error.response) {\n          // The request was made and the server responded with a status code\n          // that falls out of the range of 2xx\n          // Object not found chech status code \n\n          if ( error.response.status && error.response.status === 404){\n            setNotificationMessage({ \n              type : 'error', \n              text : `Information fof ${name} has already been removed from the server`\n              }\n            )\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          } else {\n            setNotificationMessage({ \n              type : 'error', \n              text : `Something went wrong`\n              }\n            )\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          }\n        } else if (error.request) {\n          setNotificationMessage({ \n            type : 'error', \n            text : `Connection to server lost`\n            }\n          )\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        } else {\n          // Something happened in setting up the request that triggered an Error\n          setNotificationMessage({ \n            type : 'error', \n            text : `Wrong request setting`\n            }\n          )\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        }\n      })\n\n  }\n\n  const handleNameChange = ( event) => {\n    setNewName( event.target.value)\n  }\n\n  const handleNumberChange = ( event) => {\n      setNewNumber( event.target.value)\n  }\n\n  const handleFilerChange = ( event) => {\n    setNewFilter( (event.target.value).toLowerCase())\n  }\n\n  const personsToShow = newFilter ?  \n        persons.filter( person => person.name\n                                .toLowerCase()\n                                .includes(newFilter.toLowerCase())    \n        ) : persons\n  \n\n  return (\n    <div>\n        <h2>Phonebook</h2>\n        <a href=\"README.md\">Read me</a>\n        <Notification message={ notificationMessage} />\n        <Filter \n            newFilter={newFilter}\n            handleFilerChange={handleFilerChange}\n        />\n        <h3>Add a new</h3>\n        <PersonForm \n            addPerson = {addPerson} \n            newName = { newName}\n            newNumber = { newNumber} \n            handleNameChange ={ handleNameChange}\n            handleNumberChange={ handleNumberChange}\n        />\n        <h3>Numbers</h3>\n        <Persons deletePerson={deletePerson} personsToShow={ personsToShow } />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}